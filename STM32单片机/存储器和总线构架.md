# 存储器和总线框架
## 系统构架
- 四个驱动单元
1. Cortex™-M3内核DCode总线(D-bus)，和系统总线(S-bus）
2. 通用DMA1和通用DMA2
- 四个被动单元
1. 内部SARM
2. 内部闪存存储器
3. FSMC
4. AHB到APB的桥，它连接支持所有APB设备
![系统结构](http://note.youdao.com/yws/public/resource/3bd5b0854dfbb54fdd612cf89dfacb2c/xmlnote/820EFA138B78473687943FB8AD4E798D/2107)
---
- **ICode总线**           
该总线将Cortex™-M3**内核的指令总线**与**闪存指令接口**相连接。指令预取在此总线上完成。   
- DCode总线    
该总线将Cortex™-M3内核的DCode总线与闪存存储器的数据接口相连接(常量加载和调试访问)。      
- 系统总线    
此总线连接Cortex™-M3内核的系统总线(外设总线)到总线矩阵，总线矩阵协调着内核和DMA间的访问。   
- DMA总线   
此总线将DMA的AHB主控接口与总线矩阵相联，总线矩阵协调着CPU的DCode和DMA到SRAM、闪存和外设的访问。   
- 总线矩阵   
总线矩阵协调内核系统总线和DMA主控总线之间的访问仲裁，仲裁利用轮换算法。
- AHB/APB桥(APB)    
两个AHB/APB桥在AHB和2个APB总线间提供同步连接。APB1操作速度限于36MHz，APB2操作于全速(最高72MHz)。在每一次复位以后，所有除SRAM和FLITF以外的外设都被关闭，在使用一个外设之前，必须设置寄存器RCC_AHBENR来打开该外设的时钟。